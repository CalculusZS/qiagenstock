<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Withdraw - Stock Management</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* UI Design ‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö QIAGEN */
    body { font-family: system-ui, -apple-system, sans-serif; background: #f4f6f8; margin: 0; }
    
    /* Header ‡∏™‡∏µ‡πÄ‡∏Ç‡πâ‡∏°‡πÅ‡∏ö‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û */
    .header { 
      background: #003366; 
      color: #fff; 
      padding: 15px; 
      display: flex; 
      align-items: center; 
      justify-content: space-between; 
      position: sticky; 
      top: 0; 
      z-index: 1000; 
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .container { padding: 15px; max-width: 800px; margin: auto; }
    
    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡πÇ‡∏Ñ‡πâ‡∏á‡∏°‡∏ô */
    .search-box { 
      width: 100%; 
      padding: 12px; 
      border: 1px solid #ddd; 
      border-radius: 10px; 
      margin-bottom: 15px; 
      font-size: 16px; 
      box-sizing: border-box; 
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    }
    
    /* ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô */
    .user-info { 
      background: #fff; 
      padding: 10px 15px; 
      border-radius: 10px; 
      margin-bottom: 15px; 
      box-shadow: 0 2px 4px rgba(0,0,0,0.05); 
      color: #4b5563; 
      font-size: 14px; 
      border-left: 4px solid #003366;
    }
    
    /* ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏á‡πà‡∏≤‡∏¢ */
    table { width: 100%; border-collapse: collapse; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    th { background: #f8fafc; color: #64748b; font-size: 12px; text-transform: uppercase; text-align: left; padding: 12px 10px; border-bottom: 1px solid #e2e8f0; }
    td { padding: 12px 10px; border-bottom: 1px solid #f1f5f9; vertical-align: middle; }
    
    /* ‡∏õ‡∏∏‡πà‡∏° BACK ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡∏°‡πà */
    .btn-back { 
      background: rgba(255,255,255,0.2); 
      border: 1px solid #fff; 
      color: #fff; 
      padding: 7px 15px; 
      border-radius: 6px; 
      cursor: pointer; 
      font-weight: bold;
      transition: 0.2s;
    }
    .btn-back:hover { background: rgba(255,255,255,0.3); }
    .btn-back:active { transform: scale(0.95); }

    /* Input ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ‡πÅ‡∏•‡∏∞ ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏ö‡∏¥‡∏Å */
    .qty-input-sm { width: 50px; height: 36px; text-align: center; border: 1px solid #cbd5e1; border-radius: 6px; font-size: 14px; }
    .btn-withdraw { 
      background: #003366; 
      color: #fff; 
      border: none; 
      padding: 8px 16px; 
      border-radius: 6px; 
      font-weight: bold; 
      cursor: pointer; 
      transition: 0.2s;
    }
    .btn-withdraw:active { opacity: 0.8; transform: scale(0.95); }
  </style>
</head>
<body onload="initWithdraw()">

  <div class="header">
    <div style="display: flex; align-items: center; gap: 10px;">
        <span style="font-size: 20px;">üì•</span>
        <div style="font-weight: bold; font-size: 18px; letter-spacing: 0.5px;">WITHDRAW (0243)</div>
    </div>
    <button class="btn-back" onclick="location.href='main.html'">BACK</button>
  </div>

  <div class="container">
    <div class="user-info">
        Logged in as: <strong id="current-user" style="color: #003366;">-</strong>
    </div>
    
    <input type="text" id="search" class="search-box" 
           placeholder="üîç Search Material or Product Name..." 
           oninput="searchStock(this.value, 'withdraw')">

    <table>
      <thead>
        <tr>
          <th style="width: 55%;">DETAILS</th>
          <th style="text-align:center; width: 15%;">STOCK</th>
          <th style="text-align:right; width: 30%; padding-right:15px;">ACTION</th>
        </tr>
      </thead>
      <tbody id="data">
          </tbody>
    </table>
  </div>

  <script src="js/app.js"></script>
  <script>
    function initWithdraw() {
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ Login ‡∏ú‡πà‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ô app.js
      if (typeof checkAuth === "function") {
          if (!checkAuth()) return;
      }

      const user = sessionStorage.getItem('selectedUser');
      if (!user) {
        alert("Please select a user first");
        location.href = 'index.html';
        return;
      }
      
      document.getElementById('current-user').textContent = user;
      
      // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏Å‡∏•‡∏≤‡∏á (0243)
      if (typeof loadStockData === "function") {
          window.loadStockData('withdraw');
      } else {
          console.error("Function loadStockData not found in app.js");
      }
    }
  </script>
</body>
</html>
