<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select User</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body onload="initUserPage()" style="background:#f8fafc; font-family:sans-serif; margin:0;">
    <div style="background:#1e293b; color:white; padding:15px; text-align:center; font-weight:bold;">ðŸ‘¤ SELECT USER</div>
    <div style="max-width:500px; margin:20px auto; padding:15px; background:white; border-radius:15px; box-shadow:0 4px 6px rgba(0,0,0,0.1);">
        <div id="userGrid" style="display:grid; gap:10px; margin-bottom:20px;">
            <p style="text-align:center;">Loading users...</p>
        </div>
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
            <button onclick="navigate('withdraw.html')" style="background:#ef4444; color:white; padding:12px; border:none; border-radius:8px; font-weight:bold;">WITHDRAW</button>
            <button onclick="navigate('return.html')" style="background:#22c55e; color:white; padding:12px; border:none; border-radius:8px; font-weight:bold;">RETURN</button>
            <button onclick="location.href='show-all.html'" style="background:#94a3b8; color:white; padding:12px; border:none; border-radius:8px; font-weight:bold;">SHOW ALL</button>
            <button onclick="checkSupervisor()" style="background:#2563eb; color:white; padding:12px; border:none; border-radius:8px; font-weight:bold;">SUPERVISOR</button>
        </div>
    </div>
    <script src="js/app.js"></script>
    <script>
        async function initUserPage() {
            const users = await window.loadUsers();
            const grid = document.getElementById('userGrid');
            grid.innerHTML = users.map(u => `<button class="user-btn" onclick="selectUser(this, '${u}')" style="padding:12px; background:white; border:1px solid #e2e8f0; border-radius:10px; text-align:left;">${u}</button>`).join('');
        }
        function selectUser(btn, name) {
            document.querySelectorAll('.user-btn').forEach(b => b.style.borderColor = '#e2e8f0');
            btn.style.borderColor = '#2563eb';
            sessionStorage.setItem('selectedUser', name);
        }
        function navigate(path) {
            if (!sessionStorage.getItem('selectedUser')) return alert("Select user first!");
            location.href = path;
        }
    </script>
</body>
</html>
