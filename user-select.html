<!-- inside .cta-row in user-select.html -->
<div class="cta-row">
  <button class="btn-danger"  onclick="goNext('withdraw.html')">Withdraw</button>
  <button class="btn-success" onclick="goNext('return.html')">Return</button>
  <button class="btn-neutral" onclick="goNext('all.html')">Show All</button>
  <button class="btn-primary" onclick="openSupModal()">Supervisor</button>
</div>

<!-- Add this modal at the end of body (before closing </body>) -->
<dialog id="supModal" style="border:none;border-radius:14px;padding:18px;max-width:360px;box-shadow:0 20px 60px rgba(0,0,0,.35);">
  <h3 style="margin:0 0 10px;">Supervisor Login</h3>
  <p style="margin:0 0 8px;color:#6b7280;">Enter supervisor password to continue</p>
  <input id="supPass" type="password" placeholder="Password" style="width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;">
  <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:12px;">
    <button class="btn-ghost" onclick="closeSupModal()">Cancel</button>
    <button class="btn-primary" onclick="submitSup()">Enter</button>
  </div>
  <p id="supErr" style="color:#dc2626;margin:10px 0 0;display:none;">Invalid password</p>
</dialog>

js/app.js?v=10</script>
<script>
  function openSupModal(){
    const dlg = document.getElementById('supModal');
    dlg?.showModal();
    setTimeout(()=>document.getElementById('supPass')?.focus(), 50);
  }
  function closeSupModal(){
    const dlg = document.getElementById('supModal');
    document.getElementById('supPass').value = '';
    document.getElementById('supErr').style.display = 'none';
    dlg?.close();
  }
  function submitSup(){
    const pass = (document.getElementById('supPass').value || '').trim();
    if (supAuth(pass)) {
      closeSupModal();
      location.href = 'supervisor.html';
    } else {
      document.getElementById('supErr').style.display = 'block';
      document.getElementById('supPass').focus();
    }
  }
  // Enter key inside modal
  document.addEventListener('keydown', (e) => {
    const dlg = document.getElementById('supModal');
    if (dlg?.open && e.key === 'Enter') submitSup();
  });
</script>
